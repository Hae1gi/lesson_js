<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Задача №6</title>
  </head>

  <body>
    <h2><a href="./tasks/task6.html">Задача №6</a></h2>
    <p>
      Дано масив імен. Застосовуючи відповідне сортування та бінарний пошук
      визначити, чи є у масиві ім’я довжиною 5 символів і під яким індексом
    </p>

    <script>
      // ===================================================================================//
      // Сортування массиву
      function insertSort(array) {
        let key, i
        for (let k = 1; k < array.length; k++) {
          key = array[k] // Не могу понять почему если сюда ставлю .length. а в цикле убираю .length
          // Тогда цикл виглядит вот так  while (i >= 0 && array[i].length < key)
          // Запускается бесконечный цикл
          i = k - 1
          while (i >= 0 && array[i].length < key.length) {
            array[i + 1] = array[i]
            i = i - 1
          }
          array[i + 1] = key
        }
        return array
      }
      // Перевірка чи є в массиві элемент довжиною 5 символів
      function includes_binarySearch(arr, nameLength) {
        let start = 0
        let end = arr.length - 1
        while (start <= end) {
          const middle = Math.floor((start + end) / 2)
          if (arr[middle].length === nameLength) return true
          if (arr[middle].length < nameLength) start = middle + 1
          if (arr[middle].length > nameLength) end = middle - 1
        }
        return false
      }
      // Знаходження індексу елемента у масиві (якщо немає, то результат = -1)
      function findIndex_binarySearch(arr, searchElement) {
        let start = 0
        let end = arr.length - 1
        while (start <= end) {
          const middle = Math.floor((start + end) / 2)
          if (arr[middle].length === searchElement) return middle
          if (arr[middle].length < searchElement) start = middle + 1
          if (arr[middle].length > searchElement) end = middle - 1
        }
        return -1
      }
      // ===================================================================================//
      // СТВОРЕННЯ МАСИВУ
      const userArray = ['Andrew', 'Oleg', 'Oleg', 'Peter', 'Tina', 'Yarina']
      // Копія массиву
      let userArrayInsert = Array.from(userArray)
      // Сортування массиву
      insertSort(userArrayInsert)
      let result
      if (includes_binarySearch(userArrayInsert, 5)) result = 'є'
      else result = 'немає'
      // let indexName = findIndex_binarySearch(userArrayInsert)
      let indexName = findIndex_binarySearch(userArrayInsert, 5)
      // ===================================================================================//

      // ===================================================================================//
      // ВИВОДЖУ РЕЗУЛЬТАТ НА ЭКРАН'
      document.write(`
		<p>Початковий масив: ${userArray}</p>
		<p>Відсортованний масив: ${userArrayInsert}</p>
		<p>Ім'я довжиною 5 символів у массиві: ${result} і воно знаходиться під індексом: ${indexName}</p>`)
      // ===================================================================================//
    </script>
  </body>
</html>
