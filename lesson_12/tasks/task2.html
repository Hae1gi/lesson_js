<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Задача №2</title>
  </head>

  <body>
    <h2><a href="./tasks/task1.html">Задача №2</a></h2>
    <p>
      Дано масив 30 випадкових цілих чисел. Підрахувати скільки було обмінів під
      час сортування змішуванням.
    </p>

    <script>
      // ===================================================================================//
      // Функція генерації випадкового числа
      function getRandomNum(minV, maxV) {
        return minV + Math.floor(Math.random() * (maxV - minV + 1))
      }
      // Функція генерації одновимірного масиву
      function getArray(minV, maxV, arrayLenght) {
        let array = []
        for (let i = 0; i < arrayLenght; i++) {
          let randNum = getRandomNum(minV, maxV)
          array.push(randNum)
        }
        return array
      }
      // Зміна
      const change = (array, i, j) => {
        const acc = array[i]
        array[i] = array[j]
        array[j] = acc
      }

      // Алгоритм сортування
      function getNumberOfChangesBySortCoctail(array) {
        let leftIndex = 0
        let rightIndex = array.length - 1
        let counter = 0

        while (leftIndex < rightIndex) {
          for (let index = leftIndex; index < rightIndex; index++) {
            if (array[index] > array[index + 1]) {
              change(array, index, index + 1)
              counter++
            }
          }
          rightIndex--

          for (let index = rightIndex; index > leftIndex; index--) {
            if (array[index] < array[index - 1]) {
              change(array, index, index - 1)
              counter++
            }
          }
          leftIndex++
        }

        return counter
      }

      // ==================================================================================//
      // СТВОРЕННЯ МАСИВУ
      const userArray = getArray(1, 10, 30)
      // const userArray = [2, 7, 4, 5, 6, 8, 6, 2, 2, 7, 5, 3, 5, 9, 3, 10, 8, 1, 2, 10, 1, 9, 7, 3, 2, 4, 2, 5, 6, 1]
      // ===================================================================================//
      const counterNumber = getNumberOfChangesBySortCoctail(userArray)
      // ===================================================================================//
      // ВИВОДЖУ РЕЗУЛЬТАТ НА ЭКРАН'
      // console.log(userArray)
      document.write(counterNumber)
      // ===================================================================================//
    </script>
  </body>
</html>
